!function(){"use strict";function t(o,l,a,s){return new(a=a||Promise)(function(e,t){function n(o){try{r(s.next(o))}catch(o){t(o)}}function i(o){try{r(s.throw(o))}catch(o){t(o)}}function r(o){var t;o.done?e(o.value):((t=o.value)instanceof a?t:new a(function(o){o(t)})).then(n,i)}r((s=s.apply(o,l||[])).next())})}const l=["NVTKL.L"],a={"BA.L":{sa_name:"BAESY",conversion_rate:71.24/1384},"JD.US":{sa_name:"JD",conversion_rate:1},"RR.L":{sa_name:"RYCEY",conversion_rate:5.63/442.1358},"STLA.US":{sa_name:"STLA",conversion_rate:1},"VOW3.DE":{sa_name:"VWAGY",conversion_rate:15.08/120.72},JASMY:{sa_name:"JASMY-USD",conversion_rate:1}};function e(){return t(this,void 0,void 0,function*(){console.log("Requesting etoro portfolio");var o=(yield function(){return t(this,void 0,void 0,function*(){var o="et-portfolio-group-list";let t=null;for(;null===t||0==t.length;)t=document.getElementsByTagName(o),yield new Promise(o=>setTimeout(o,1e3));return console.log("Found etoro portoflio container with tag "+o+"..."),t[0]})}()).querySelectorAll('[automation-id="watchlist-grid-instruments-list"]');const r=[];return o.forEach(t=>{var e=null==(e=t.querySelector('[automation-id="portfolio-overview-table-body-cell-avg-open-rate"]'))?void 0:e.innerText;let n=null==(i=t.querySelector('[automation-id="portfolio-overview-table-body-cell-market-name"]'))?void 0:i.innerText;t=null==(i=t.querySelector('[automation-id="portfolio-overview-table-body-cell-units-value"]'))?void 0:i.innerText;if(t&&e&&n){let o=parseFloat(e);var i=parseFloat(t);if(!l.includes(n))return e=n,(t=a[e])&&(n=t.sa_name,o*=t.conversion_rate),r.push({avg_open:o,symbol:n,units:i}),r}}),r.filter(o=>!!o.units)})}window.getEtoroPortfolio=e,window.getEtoroPortfolioWithInstructions=function(){return t(this,void 0,void 0,function*(){var o=yield e();console.log("JSON portfolio : "),console.log(o),console.log("Good, now copy the following variable, focus the tab where to import it, and paste it in the console:"),console.log("const exported_portfolio = "+JSON.stringify(o)+";")})},window.getEtoroPortfolioWithInstructions()}();