var __awaiter=this&&this.__awaiter||function(e,i,c,u){return new(c=c||Promise)(function(o,t){function r(e){try{a(u.next(e))}catch(e){t(e)}}function n(e){try{a(u.throw(e))}catch(e){t(e)}}function a(e){var t;e.done?o(e.value):((t=e.value)instanceof c?t:new c(function(e){e(t)})).then(r,n)}a((u=u.apply(e,i||[])).next())})};function getSeekingAlphaPortfolio(){return __awaiter(this,void 0,void 0,function*(){var e=document.querySelector('[data-test-id="default-portfolio-tickers"] table');if(!e)return console.log("No container found"),[];console.log("Container: ",e);e=e.querySelectorAll("tbody tr");const n=[];return e.forEach(e=>{var t,o,r=null==(r=e.querySelector('[data-test-id="portfolio-ticker-name"]'))?void 0:r.innerText;r?(o=e.querySelectorAll("td")).length<5?console.error("Not enough tds in row",o.length):(t=o[3].innerText,o=o[4].innerText,n.push({ticker_name:r,share_price:parseFloat(o),num_shares:parseFloat(t)})):console.error("No ticker name found in row",e)}),n})}function getTickersAddUpdateRemove(e,n){return __awaiter(this,void 0,void 0,function*(){let r={add:[],update:[],remove:[]};return e.forEach(t=>{let o=!1;n.forEach(e=>{t.symbol===e.ticker_name&&(o=!0)}),o||r.add.push(t)}),e.forEach(t=>{n.forEach(e=>{t.symbol!==e.ticker_name||t.units===e.num_shares&&t.avg_open===e.share_price||r.update.push({etoro:t,seeking:e})})}),n.forEach(t=>{let o=!1;e.forEach(e=>{e.symbol===t.ticker_name&&(o=!0)}),o||r.remove.push(t)}),r})}