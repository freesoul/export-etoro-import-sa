!function(){"use strict";function e(o,l,d,u){return new(d=d||Promise)(function(e,t){function n(o){try{r(u.next(o))}catch(o){t(o)}}function i(o){try{r(u.throw(o))}catch(o){t(o)}}function r(o){var t;o.done?e(o.value):((t=o.value)instanceof d?t:new d(function(o){o(t)})).then(n,i)}r((u=u.apply(o,l||[])).next())})}function n(n){return e(this,void 0,void 0,function*(){for(var t={result:null,query_idx:0};null===t.result;){for(let o=0;o<n.length;o++){var e=document.querySelector(n[o]);if(e)return t.result=e,t.query_idx=o,t}yield new Promise(o=>setTimeout(o,100))}return t})}function i(t){return e(this,void 0,void 0,function*(){let o=null;for(;null===o;){if(o=document.querySelector(t))return o;yield new Promise(o=>setTimeout(o,100))}return null})}window._wait_for_selector_exists=i,window._wait_for_first_selector_that_exists=n;window._getSeekingAlphaPortfolio=function(){return e(this,void 0,void 0,function*(){var o=document.querySelector('[data-test-id="default-portfolio-tickers"] table');if(!o)return console.log("No container found"),[];console.log("Container: ",o);o=o.querySelectorAll("tbody tr");const i=[];return o.forEach(o=>{var t,e,n=null==(n=o.querySelector('[data-test-id="portfolio-ticker-name"]'))?void 0:n.innerText;n?(e=o.querySelectorAll("td")).length<5?console.error("Not enough tds in row",e.length):(t=e[4].innerText,e=e[5].innerText,i.push({symbol:n,avg_open:parseFloat(e),units:parseFloat(t)})):console.log("No ticker name found in row",o)}),i})},window._getTickersAddUpdateRemove=function(o,i){return e(this,void 0,void 0,function*(){let n={add:[],update:[],remove:[],unchanged:[]};function e(o,t,e){return o.toFixed(e)===t.toFixed(e)}return o.forEach(t=>{let e=!1;i.forEach(o=>{t.symbol===o.symbol&&(e=!0)}),e||n.add.push(t)}),o.forEach(t=>{i.forEach(o=>{t.symbol===o.symbol&&e(t.units,o.units,2)&&e(t.avg_open,o.avg_open,2)&&n.update.push({etoro:t,seeking:o})})}),i.forEach(t=>{let e=!1;o.forEach(o=>{o.symbol===t.symbol&&(e=!0)}),e||n.remove.push(t)}),o.forEach(t=>{i.forEach(o=>{t.symbol===o.symbol&&e(t.units,o.units,2)&&e(t.avg_open,o.avg_open,2)&&n.unchanged.push(o)})}),n})},window._doAddSymbol=t=>e(void 0,void 0,void 0,function*(){var o=document.querySelector("[data-test-id='add-symbols-button']");o?(o.click(),(o=yield i("[data-test-id='modal-content'] input[data-test-id='text-input']"))?(o.value=t,o=yield n(["[data-test-id='result-list-title']","[data-test-id='help-label']"]),console.log(o)):console.error("Could not find search input")):console.error("Could not find add symbol button")}),window._doEditSymbol=o=>e(void 0,void 0,void 0,function*(){var o=document.querySelector("[data-test-id='edit-portfolio-button']");if(o){o.click();o=yield i("[data-test-id='symbols-list']");if(o){var t=[];for(const e of o.querySelectorAll("[data-test-id='ticker-name-label']"))t.push(e.innerText)}else console.error("Could not find edit symbols list")}else console.error("Could not find edit symbol button")}),window.doAll=function(){return e(this,void 0,void 0,function*(){})},window.doAddAll=function(){return e(this,void 0,void 0,function*(){})},window.doEditAll=function(){return e(this,void 0,void 0,function*(){})},window.doRemoveAll=function(){return e(this,void 0,void 0,function*(){})}}();